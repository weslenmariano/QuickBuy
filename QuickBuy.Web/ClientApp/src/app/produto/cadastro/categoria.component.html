<h4 class="h4 titulo">Cadastro de Categoria</h4>

<label for="inputNome" class="sr-only">Nome Categoria</label>
<input type="text" id="inputNomeCat"
       name="nomeCategoria" placeholder="Nome da categoria"
       class="form-control mb-2 col-md-6"
       [(ngModel)]="categoria.nomeCategoria"
       #nomex="ngModel"
       [ngClass]="{
           'is-invalid':nomex.invalid && (nomex.dirty || nomex.touched),
           'is-valid':nomex.valid && (nomex.dirty || nomex.touched)
           }"
       minlength="5"
       required />
<div class="invalid-feedback mb-2" *ngIf="nomex.invalid && (nomex.dirty || nomex.touched)">
  <div *ngIf="nomex.errors.required">
    Nome do produto é de preenchimento obrigatório.
  </div>
  <div *ngIf="nomex.errors.minlength">
    <!-- se o erro for de requided inclui a div no html-->
    O nome da categoria deve ter mais de 5 caracteres.
  </div>
</div>

<label for="inputDescricao" class="sr-only">Descrição Categoria</label>
<input type="text" id="inputDescricao"
       name="descricaoCategoria" placeholder="Descrição da Categoria"
       class="form-control mb-2 col-md-6"
       [(ngModel)]="categoria.descricaoCategoria"
       #descricaox="ngModel"
       [ngClass]="{
           'is-invalid':descricaox.invalid && (descricaox.dirty || descricaox.touched),
           'is-valid':descricaox.valid && (descricaox.dirty || descricaox.touched)
           }"
       minlength="5"
       required />
<div class="invalid-feedback mb-2" *ngIf="descricaox.invalid && (descricaox.dirty || descricaox.touched)">
  <div *ngIf="descricaox.errors.required">
    Descrição da categoria é de preenchimento obrigatório.
  </div>
  <div *ngIf="descricaox.errors.minlength">
    <!-- se o erro for de requided inclui a div no html-->
    A descrição da deve ter mais de 5 caracteres.
  </div>
</div>


<input type="checkbox" id="chkAtivo"
       [(ngModel)]="categoria.ativo"
       data-md-icheck (change)="checkAtivo($event)" />
<label for="chkAtivo">Ativo</label>

<div class="alert alert-warning mb-2 col-md-6" role="alert" *ngIf="!categoria.ativo">
  <strong>Atenção!</strong> Categorias Inativas, não poderão ser utilizadas no momento do cadastro de produtos.
</div>
<!-- <div>And <b>ngModel</b> also works, it's value is <b>{{categoria.ativo}}</b></div> -->


<div class="form-inline mb-2">
  <button class="btn btn-primary" style="margin-right:4px" (click)="cadastrar()" [disabled]="ativarSpinner">
    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="ativarSpinner"></span>
    Cadastrar
  </button>
  <button class="btn btn-secondary" [routerLink]='["../pesquisa-categoria"]'>Cancelar</button>
</div>


<div class="alert alert-danger mb-2 col-md-4" role="alert" *ngIf="mensagem">
  {{mensagem}}
</div>

